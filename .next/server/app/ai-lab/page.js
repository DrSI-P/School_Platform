(() => {
var exports = {};
exports.id = 180;
exports.ids = [180];
exports.modules = {

/***/ 18038:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react");

/***/ }),

/***/ 98704:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-dom/server-rendering-stub");

/***/ }),

/***/ 97897:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-server-dom-webpack/client");

/***/ }),

/***/ 56786:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react/jsx-runtime");

/***/ }),

/***/ 5868:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/app-render");

/***/ }),

/***/ 41844:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/get-segment-param");

/***/ }),

/***/ 96624:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/future/helpers/interception-routes");

/***/ }),

/***/ 75281:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/future/route-modules/route-module");

/***/ }),

/***/ 57085:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/app-router-context");

/***/ }),

/***/ 20199:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hash");

/***/ }),

/***/ 39569:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hooks-client-context");

/***/ }),

/***/ 17160:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router-context");

/***/ }),

/***/ 30893:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/add-path-prefix");

/***/ }),

/***/ 12336:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/format-url");

/***/ }),

/***/ 17887:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/handle-smooth-scroll");

/***/ }),

/***/ 98735:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot");

/***/ }),

/***/ 60120:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-local-url");

/***/ }),

/***/ 68231:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/parse-path");

/***/ }),

/***/ 53750:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/remove-trailing-slash");

/***/ }),

/***/ 70982:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/resolve-href");

/***/ }),

/***/ 79618:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/server-inserted-html");

/***/ }),

/***/ 78423:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/utils");

/***/ }),

/***/ 71238:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport safe */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_1__.GlobalError),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   originalPathname: () => (/* binding */ originalPathname),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   routeModule: () => (/* binding */ routeModule),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_server_future_route_modules_app_page_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7262);
/* harmony import */ var next_dist_server_future_route_modules_app_page_module__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(31823);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12502);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_2__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_2__) if(["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

    

    const tree = {
        children: [
        '',
        {
        children: [
        'ai-lab',
        {
        children: ['__PAGE__', {}, {
          page: [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 969)), "C:\\Users\\scott\\Desktop\\EdPsych_Tool\\School_Platform\\app\\ai-lab\\page.tsx"],
          
        }]
      },
        {
          
          
        }
      ]
      },
        {
          'layout': [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 29850)), "C:\\Users\\scott\\Desktop\\EdPsych_Tool\\School_Platform\\app\\layout.tsx"],
          
        }
      ]
      }.children;
    const pages = ["C:\\Users\\scott\\Desktop\\EdPsych_Tool\\School_Platform\\app\\ai-lab\\page.tsx"];

    

    const originalPathname = "/ai-lab/page"
    const __next_app__ = {
      require: __webpack_require__,
      // all modules are in the entry chunk, so we never actually need to load chunks in webpack
      loadChunk: () => Promise.resolve()
    }

    

    // Create and export the route module that will be consumed.
    const options = {"definition":{"kind":"APP_PAGE","page":"/ai-lab/page","pathname":"/ai-lab","bundlePath":"app/ai-lab/page","filename":"","appPaths":[]}}
    const routeModule = new (next_dist_server_future_route_modules_app_page_module__WEBPACK_IMPORTED_MODULE_0___default())({
      ...options,
      userland: {
        loaderTree: tree,
      },
    })
  

/***/ }),

/***/ 55358:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 34991))

/***/ }),

/***/ 34991:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ AIWorkspace)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(18038);
// EXTERNAL MODULE: ./components/ui/button.tsx
var ui_button = __webpack_require__(44368);
// EXTERNAL MODULE: ./lib/utils.ts
var utils = __webpack_require__(12857);
;// CONCATENATED MODULE: ./components/ui/tabs.tsx
Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-tabs'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* __next_internal_client_entry_do_not_use__ Tabs,TabsList,TabsTrigger,TabsContent auto */ 



const Tabs = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-tabs'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
const TabsList = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-tabs'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
        ref: ref,
        className: (0,utils.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground", className),
        ...props
    }));
TabsList.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-tabs'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).displayName;
const TabsTrigger = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-tabs'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
        ref: ref,
        className: (0,utils.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm", className),
        ...props
    }));
TabsTrigger.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-tabs'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).displayName;
const TabsContent = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-tabs'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
        ref: ref,
        className: (0,utils.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2", className),
        ...props
    }));
TabsContent.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-tabs'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).displayName;


;// CONCATENATED MODULE: ./components/ui/card.tsx



const Card = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx("div", {
        ref: ref,
        className: (0,utils.cn)("rounded-lg border bg-card text-card-foreground shadow-sm", className),
        ...props
    }));
Card.displayName = "Card";
const CardHeader = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx("div", {
        ref: ref,
        className: (0,utils.cn)("flex flex-col space-y-1.5 p-6", className),
        ...props
    }));
CardHeader.displayName = "CardHeader";
const CardTitle = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx("h3", {
        ref: ref,
        className: (0,utils.cn)("text-2xl font-semibold leading-none tracking-tight", className),
        ...props
    }));
CardTitle.displayName = "CardTitle";
const CardDescription = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx("p", {
        ref: ref,
        className: (0,utils.cn)("text-sm text-muted-foreground", className),
        ...props
    }));
CardDescription.displayName = "CardDescription";
const CardContent = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx("div", {
        ref: ref,
        className: (0,utils.cn)("p-6 pt-0", className),
        ...props
    }));
CardContent.displayName = "CardContent";
const CardFooter = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx("div", {
        ref: ref,
        className: (0,utils.cn)("flex items-center p-6 pt-0", className),
        ...props
    }));
CardFooter.displayName = "CardFooter";


// EXTERNAL MODULE: ./node_modules/@monaco-editor/react/dist/index.js
var dist = __webpack_require__(3822);
var dist_default = /*#__PURE__*/__webpack_require__.n(dist);
;// CONCATENATED MODULE: ./components/ai-lab/CodeEditor.tsx
/* __next_internal_client_entry_do_not_use__ CodeEditor auto */ 


function CodeEditor({ value, onChange, language = "javascript", theme = "vs-dark" }) {
    const editorRef = (0,react_.useRef)(null);
    const [mounted, setMounted] = (0,react_.useState)(false);
    // Handle editor mounting
    const handleEditorDidMount = (editor)=>{
        editorRef.current = editor;
        setMounted(true);
        // Set focus to the editor
        editor.focus();
    };
    // Handle value changes
    const handleEditorChange = (value)=>{
        if (value !== undefined) {
            onChange(value);
        }
    };
    // Format code with Prettier
    const formatCode = ()=>{
        if (!editorRef.current) return;
        // This would typically use Prettier, but for simplicity we're just
        // using the editor's built-in formatting
        editorRef.current.getAction("editor.action.formatDocument").run();
    };
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: "h-full w-full border rounded-md overflow-hidden",
        children: /*#__PURE__*/ jsx_runtime_.jsx((dist_default()), {
            height: "100%",
            width: "100%",
            language: language,
            theme: theme,
            value: value,
            onChange: handleEditorChange,
            onMount: handleEditorDidMount,
            options: {
                minimap: {
                    enabled: false
                },
                fontSize: 14,
                wordWrap: "on",
                scrollBeyondLastLine: false,
                automaticLayout: true,
                tabSize: 2,
                lineNumbers: "on",
                glyphMargin: true,
                folding: true,
                lineDecorationsWidth: 10,
                renderLineHighlight: "all"
            }
        })
    });
}

;// CONCATENATED MODULE: ./components/ui/textarea.tsx
/* __next_internal_client_entry_do_not_use__ Textarea auto */ 


const Textarea = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>{
    return /*#__PURE__*/ jsx_runtime_.jsx("textarea", {
        className: (0,utils.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", className),
        ref: ref,
        ...props
    });
});
Textarea.displayName = "Textarea";


// EXTERNAL MODULE: ./components/ui/use-toast.ts
var use_toast = __webpack_require__(34388);
// EXTERNAL MODULE: ./node_modules/lucide-react/dist/cjs/lucide-react.js
var lucide_react = __webpack_require__(51158);
;// CONCATENATED MODULE: ./components/ai-lab/AIAssistant.tsx
/* __next_internal_client_entry_do_not_use__ AIAssistant auto */ 





function AIAssistant({ code, model, onSuggestion }) {
    const { toast } = (0,use_toast/* useToast */.p)();
    const [messages, setMessages] = (0,react_.useState)([
        {
            role: "assistant",
            content: "Hello! I'm your AI coding assistant. How can I help you with your code today?"
        }
    ]);
    const [input, setInput] = (0,react_.useState)("");
    const [isLoading, setIsLoading] = (0,react_.useState)(false);
    const messagesEndRef = (0,react_.useRef)(null);
    // Auto-scroll to bottom of messages
    (0,react_.useEffect)(()=>{
        messagesEndRef.current?.scrollIntoView({
            behavior: "smooth"
        });
    }, [
        messages
    ]);
    const sendMessage = async ()=>{
        if (!input.trim()) return;
        // Add user message to chat
        const userMessage = {
            role: "user",
            content: input
        };
        setMessages((prev)=>[
                ...prev,
                userMessage
            ]);
        setInput("");
        setIsLoading(true);
        try {
            // Send message to API
            const response = await fetch("/api/ai-lab/assistant", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    messages: [
                        ...messages,
                        userMessage
                    ],
                    code,
                    model
                })
            });
            if (!response.ok) {
                throw new Error("Failed to get response from AI assistant");
            }
            const data = await response.json();
            // Add AI response to chat
            setMessages((prev)=>[
                    ...prev,
                    {
                        role: "assistant",
                        content: data.response
                    }
                ]);
        } catch (error) {
            toast({
                title: "Error",
                description: error instanceof Error ? error.message : "An error occurred",
                variant: "destructive"
            });
        } finally{
            setIsLoading(false);
        }
    };
    const applySuggestion = (content)=>{
        // Extract code blocks from markdown
        const codeBlockRegex = /```(?:javascript|js|typescript|ts)?\n([\s\S]*?)```/g;
        const matches = [
            ...content.matchAll(codeBlockRegex)
        ];
        if (matches.length > 0) {
            // Use the first code block found
            onSuggestion(matches[0][1]);
            toast({
                title: "Code applied",
                description: "The suggested code has been added to your editor"
            });
        } else {
            toast({
                title: "No code found",
                description: "No code blocks were found in the suggestion",
                variant: "destructive"
            });
        }
    };
    const askForHelp = async ()=>{
        if (!code.trim()) {
            toast({
                title: "No code",
                description: "Please write some code first",
                variant: "destructive"
            });
            return;
        }
        setIsLoading(true);
        // Create a message asking for help with the current code
        const helpMessage = {
            role: "user",
            content: "Can you help me improve this code and explain what it does?\n\n```javascript\n" + code + "\n```"
        };
        setMessages((prev)=>[
                ...prev,
                helpMessage
            ]);
        try {
            // Send message to API
            const response = await fetch("/api/ai-lab/assistant", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    messages: [
                        ...messages,
                        helpMessage
                    ],
                    code,
                    model
                })
            });
            if (!response.ok) {
                throw new Error("Failed to get response from AI assistant");
            }
            const data = await response.json();
            // Add AI response to chat
            setMessages((prev)=>[
                    ...prev,
                    {
                        role: "assistant",
                        content: data.response
                    }
                ]);
        } catch (error) {
            toast({
                title: "Error",
                description: error instanceof Error ? error.message : "An error occurred",
                variant: "destructive"
            });
        } finally{
            setIsLoading(false);
        }
    };
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: "flex flex-col h-full",
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "flex-1 overflow-y-auto p-4 space-y-4",
                children: [
                    messages.map((message, index)=>/*#__PURE__*/ jsx_runtime_.jsx("div", {
                            className: `flex ${message.role === "user" ? "justify-end" : "justify-start"}`,
                            children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: `max-w-[80%] rounded-lg p-3 ${message.role === "user" ? "bg-primary text-primary-foreground" : "bg-muted"}`,
                                children: [
                                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                        className: "prose prose-sm dark:prose-invert",
                                        children: message.content.split("\n").map((line, i)=>/*#__PURE__*/ jsx_runtime_.jsx("p", {
                                                className: "mb-1",
                                                children: line
                                            }, i))
                                    }),
                                    message.role === "assistant" && message.content.includes("```") && /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_button/* Button */.z, {
                                        size: "sm",
                                        variant: "secondary",
                                        className: "mt-2",
                                        onClick: ()=>applySuggestion(message.content),
                                        children: [
                                            /*#__PURE__*/ jsx_runtime_.jsx(lucide_react/* PlusIcon */.pOD, {
                                                className: "h-4 w-4 mr-1"
                                            }),
                                            "Apply Code"
                                        ]
                                    })
                                ]
                            })
                        }, index)),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        ref: messagesEndRef
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "border-t p-4 space-y-2",
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "flex space-x-2",
                        children: /*#__PURE__*/ jsx_runtime_.jsx(ui_button/* Button */.z, {
                            variant: "outline",
                            size: "sm",
                            onClick: askForHelp,
                            disabled: isLoading,
                            children: "Analyze My Code"
                        })
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "flex space-x-2",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(Textarea, {
                                value: input,
                                onChange: (e)=>setInput(e.target.value),
                                placeholder: "Ask a question about your code...",
                                className: "min-h-[80px]",
                                onKeyDown: (e)=>{
                                    if (e.key === "Enter" && !e.shiftKey) {
                                        e.preventDefault();
                                        sendMessage();
                                    }
                                }
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_button/* Button */.z, {
                                className: "self-end",
                                onClick: sendMessage,
                                disabled: isLoading || !input.trim(),
                                children: isLoading ? /*#__PURE__*/ jsx_runtime_.jsx(lucide_react/* Loader2 */.zM5, {
                                    className: "h-4 w-4 animate-spin"
                                }) : /*#__PURE__*/ jsx_runtime_.jsx(lucide_react/* SendIcon */.jE$, {
                                    className: "h-4 w-4"
                                })
                            })
                        ]
                    })
                ]
            })
        ]
    });
}

;// CONCATENATED MODULE: ./components/ai-lab/OutputDisplay.tsx
/* __next_internal_client_entry_do_not_use__ OutputDisplay auto */ 

function OutputDisplay({ output }) {
    const outputRef = (0,react_.useRef)(null);
    // Auto-scroll to bottom when output changes
    (0,react_.useEffect)(()=>{
        if (outputRef.current) {
            outputRef.current.scrollTop = outputRef.current.scrollHeight;
        }
    }, [
        output
    ]);
    // Format output with syntax highlighting
    const formatOutput = (text)=>{
        // Simple formatting for different types of output
        return text.split("\n").map((line, index)=>{
            // Highlight errors in red
            if (line.toLowerCase().includes("error")) {
                return `<span class="text-red-500">${line}</span>`;
            }
            // Highlight warnings in yellow
            if (line.toLowerCase().includes("warning")) {
                return `<span class="text-yellow-500">${line}</span>`;
            }
            // Highlight success messages in green
            if (line.toLowerCase().includes("success") || line.toLowerCase().includes("passed")) {
                return `<span class="text-green-500">${line}</span>`;
            }
            // Format JSON output
            if (line.trim().startsWith("{") || line.trim().startsWith("[")) {
                try {
                    const json = JSON.parse(line);
                    return `<span class="text-blue-500">${JSON.stringify(json, null, 2)}</span>`;
                } catch (e) {
                // Not valid JSON, return as is
                }
            }
            return line;
        }).join("\n");
    };
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        ref: outputRef,
        className: "h-full w-full bg-black text-white font-mono text-sm p-4 overflow-auto",
        dangerouslySetInnerHTML: {
            __html: formatOutput(output || "Run your code to see output here...")
        }
    });
}

;// CONCATENATED MODULE: ./components/ui/dialog.tsx
Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* __next_internal_client_entry_do_not_use__ Dialog,DialogTrigger,DialogContent,DialogHeader,DialogFooter,DialogTitle,DialogDescription auto */ 




const dialog_Dialog = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
const DialogTrigger = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
const DialogPortal = ({ className, ...props })=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
        ...props
    });
DialogPortal.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).displayName;
const DialogOverlay = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
        ref: ref,
        className: (0,utils.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", className),
        ...props
    }));
DialogOverlay.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).displayName;
const dialog_DialogContent = /*#__PURE__*/ react_.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)(DialogPortal, {
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(DialogOverlay, {}),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
                ref: ref,
                className: (0,utils.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full", className),
                ...props,
                children: [
                    children,
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
                        className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(lucide_react.X, {
                                className: "h-4 w-4"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                className: "sr-only",
                                children: "Close"
                            })
                        ]
                    })
                ]
            })
        ]
    }));
dialog_DialogContent.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).displayName;
const DialogHeader = ({ className, ...props })=>/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: (0,utils.cn)("flex flex-col space-y-1.5 text-center sm:text-left", className),
        ...props
    });
DialogHeader.displayName = "DialogHeader";
const DialogFooter = ({ className, ...props })=>/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: (0,utils.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", className),
        ...props
    });
DialogFooter.displayName = "DialogFooter";
const DialogTitle = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
        ref: ref,
        className: (0,utils.cn)("text-lg font-semibold leading-none tracking-tight", className),
        ...props
    }));
DialogTitle.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).displayName;
const DialogDescription = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
        ref: ref,
        className: (0,utils.cn)("text-sm text-muted-foreground", className),
        ...props
    }));
DialogDescription.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-dialog'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).displayName;


;// CONCATENATED MODULE: ./components/ui/command.tsx
Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* __next_internal_client_entry_do_not_use__ Command,CommandDialog,CommandInput,CommandList,CommandEmpty,CommandGroup,CommandItem,CommandShortcut,CommandSeparator auto */ 





const Command = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
        ref: ref,
        className: (0,utils.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground", className),
        ...props
    }));
Command.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).displayName;
const CommandDialog = ({ children, ...props })=>{
    return /*#__PURE__*/ _jsx(Dialog, {
        ...props,
        children: /*#__PURE__*/ _jsx(DialogContent, {
            className: "overflow-hidden p-0 shadow-lg",
            children: /*#__PURE__*/ _jsx(Command, {
                className: "[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",
                children: children
            })
        })
    });
};
const CommandInput = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: "flex items-center border-b px-3",
        "cmdk-input-wrapper": "",
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(lucide_react/* Search */.olm, {
                className: "mr-2 h-4 w-4 shrink-0 opacity-50"
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Input, {
                ref: ref,
                className: (0,utils.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50", className),
                ...props
            })
        ]
    }));
CommandInput.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Input.displayName;
const CommandList = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).List, {
        ref: ref,
        className: (0,utils.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden", className),
        ...props
    }));
CommandList.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).List.displayName;
const CommandEmpty = /*#__PURE__*/ react_.forwardRef((props, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Empty, {
        ref: ref,
        className: "py-6 text-center text-sm",
        ...props
    }));
CommandEmpty.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Empty.displayName;
const CommandGroup = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Group, {
        ref: ref,
        className: (0,utils.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground", className),
        ...props
    }));
CommandGroup.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Group.displayName;
const CommandSeparator = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Separator, {
        ref: ref,
        className: (0,utils.cn)("-mx-1 h-px bg-border", className),
        ...props
    }));
CommandSeparator.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Separator.displayName;
const CommandItem = /*#__PURE__*/ react_.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Item, {
        ref: ref,
        className: (0,utils.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", className),
        ...props
    }));
CommandItem.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module 'cmdk'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Item.displayName;
const CommandShortcut = ({ className, ...props })=>{
    return /*#__PURE__*/ jsx_runtime_.jsx("span", {
        className: (0,utils.cn)("ml-auto text-xs tracking-widest text-muted-foreground", className),
        ...props
    });
};
CommandShortcut.displayName = "CommandShortcut";


;// CONCATENATED MODULE: ./components/ui/popover.tsx
Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-popover'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* __next_internal_client_entry_do_not_use__ Popover,PopoverTrigger,PopoverContent auto */ 



const Popover = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-popover'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
const PopoverTrigger = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-popover'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
const PopoverContent = /*#__PURE__*/ react_.forwardRef(({ className, align = "center", sideOffset = 4, ...props }, ref)=>/*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-popover'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
        children: /*#__PURE__*/ jsx_runtime_.jsx(Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-popover'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), {
            ref: ref,
            align: align,
            sideOffset: sideOffset,
            className: (0,utils.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2", className),
            ...props
        })
    }));
PopoverContent.displayName = Object(function webpackMissingModule() { var e = new Error("Cannot find module '@radix-ui/react-popover'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).displayName;


;// CONCATENATED MODULE: ./components/ai-lab/ModelSelector.tsx
/* __next_internal_client_entry_do_not_use__ ModelSelector auto */ 






// Available AI models
const models = [
    {
        value: "gpt-4o",
        label: "GPT-4o",
        description: "Most capable model for complex tasks"
    },
    {
        value: "gpt-3.5-turbo",
        label: "GPT-3.5 Turbo",
        description: "Fast and efficient for most tasks"
    },
    {
        value: "claude-3-opus",
        label: "Claude 3 Opus",
        description: "Advanced reasoning and instruction following"
    },
    {
        value: "claude-3-sonnet",
        label: "Claude 3 Sonnet",
        description: "Balanced performance and efficiency"
    },
    {
        value: "llama-3-70b",
        label: "Llama 3 (70B)",
        description: "Open source model with strong capabilities"
    },
    {
        value: "code-llama-34b",
        label: "Code Llama (34B)",
        description: "Specialized for code generation and analysis"
    }
];
function ModelSelector({ selectedModel, onSelectModel }) {
    const [open, setOpen] = (0,react_.useState)(false);
    // Find the currently selected model
    const currentModel = models.find((model)=>model.value === selectedModel) || models[0];
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Popover, {
        open: open,
        onOpenChange: setOpen,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(PopoverTrigger, {
                asChild: true,
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_button/* Button */.z, {
                    variant: "outline",
                    role: "combobox",
                    "aria-expanded": open,
                    className: "w-[200px] justify-between",
                    children: [
                        currentModel.label,
                        /*#__PURE__*/ jsx_runtime_.jsx(lucide_react/* ChevronsUpDown */.Dcq, {
                            className: "ml-2 h-4 w-4 shrink-0 opacity-50"
                        })
                    ]
                })
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(PopoverContent, {
                className: "w-[200px] p-0",
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Command, {
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx(CommandInput, {
                            placeholder: "Search models..."
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(CommandEmpty, {
                            children: "No model found."
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(CommandGroup, {
                            children: models.map((model)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)(CommandItem, {
                                    value: model.value,
                                    onSelect: (currentValue)=>{
                                        onSelectModel(currentValue);
                                        setOpen(false);
                                    },
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx(lucide_react/* Check */.JrY, {
                                            className: (0,utils.cn)("mr-2 h-4 w-4", selectedModel === model.value ? "opacity-100" : "opacity-0")
                                        }),
                                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                            className: "flex flex-col",
                                            children: [
                                                /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                                    children: model.label
                                                }),
                                                /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                                    className: "text-xs text-muted-foreground",
                                                    children: model.description
                                                })
                                            ]
                                        })
                                    ]
                                }, model.value))
                        })
                    ]
                })
            })
        ]
    });
}

// EXTERNAL MODULE: ./node_modules/next-auth/react/index.js
var react = __webpack_require__(74284);
// EXTERNAL MODULE: ./node_modules/@prisma/client/default.js
var client_default = __webpack_require__(78553);
;// CONCATENATED MODULE: ./lib/db/index.ts

// PrismaClient is attached to the `global` object in development to prevent
// exhausting your database connection limit.
// Learn more: https://pris.ly/d/help/next-js-best-practices
const globalForPrisma = global;
const db_prisma = globalForPrisma.prisma || new client_default.PrismaClient({
    log:  false ? 0 : [
        "error"
    ]
});
if (false) {}
/* harmony default export */ const db = ((/* unused pure expression or super */ null && (db_prisma)));

;// CONCATENATED MODULE: ./lib/api/lab-sessions.ts

/**
 * Save a lab session to the database
 * If an ID is provided, it will update the existing session
 * Otherwise, it will create a new session
 */ async function saveLabSession(data, userId) {
    try {
        if (data.id) {
            // Update existing session
            const session = await db_prisma.aiLabSession.update({
                where: {
                    id: data.id,
                    userId: userId
                },
                data: {
                    title: data.title,
                    updatedAt: new Date(),
                    codeSnippets: {
                        create: {
                            title: `Code from ${data.title}`,
                            language: "javascript",
                            code: data.code,
                            isPublic: false
                        }
                    },
                    aiModels: {
                        create: {
                            modelId: await getOrCreateModelId(data.selectedModel)
                        }
                    }
                },
                include: {
                    codeSnippets: true,
                    aiModels: {
                        include: {
                            model: true
                        }
                    }
                }
            });
            return session;
        } else {
            // Create new session
            const session = await db_prisma.aiLabSession.create({
                data: {
                    title: data.title,
                    description: "AI Lab session",
                    duration: 0,
                    userId: userId,
                    codeSnippets: {
                        create: {
                            title: `Code from ${data.title}`,
                            language: "javascript",
                            code: data.code,
                            isPublic: false
                        }
                    },
                    aiModels: {
                        create: {
                            modelId: await getOrCreateModelId(data.selectedModel)
                        }
                    }
                },
                include: {
                    codeSnippets: true,
                    aiModels: {
                        include: {
                            model: true
                        }
                    }
                }
            });
            return session;
        }
    } catch (error) {
        console.error("Error saving lab session:", error);
        throw new Error("Failed to save lab session");
    }
}
/**
 * Get all lab sessions for a user
 */ async function getUserLabSessions(userId) {
    try {
        const sessions = await prisma.aiLabSession.findMany({
            where: {
                userId: userId
            },
            orderBy: {
                updatedAt: "desc"
            },
            include: {
                codeSnippets: true,
                aiModels: {
                    include: {
                        model: true
                    }
                }
            }
        });
        return sessions;
    } catch (error) {
        console.error("Error getting user lab sessions:", error);
        throw new Error("Failed to get lab sessions");
    }
}
/**
 * Get a lab session by ID
 */ async function getLabSession(id, userId) {
    try {
        const session = await prisma.aiLabSession.findUnique({
            where: {
                id: id,
                userId: userId
            },
            include: {
                codeSnippets: true,
                aiModels: {
                    include: {
                        model: true
                    }
                }
            }
        });
        if (!session) {
            throw new Error("Lab session not found");
        }
        return session;
    } catch (error) {
        console.error("Error getting lab session:", error);
        throw new Error("Failed to get lab session");
    }
}
/**
 * Delete a lab session
 */ async function deleteLabSession(id, userId) {
    try {
        await prisma.aiLabSession.delete({
            where: {
                id: id,
                userId: userId
            }
        });
        return {
            success: true
        };
    } catch (error) {
        console.error("Error deleting lab session:", error);
        throw new Error("Failed to delete lab session");
    }
}
/**
 * Get or create an AI model ID
 */ async function getOrCreateModelId(modelName) {
    try {
        // Try to find existing model
        const existingModel = await db_prisma.aIModel.findFirst({
            where: {
                name: modelName
            }
        });
        if (existingModel) {
            return existingModel.id;
        }
        // Create new model if not found
        const newModel = await db_prisma.aIModel.create({
            data: {
                name: modelName,
                provider: getProviderFromModelName(modelName),
                type: "TEXT",
                description: `${modelName} AI model`
            }
        });
        return newModel.id;
    } catch (error) {
        console.error("Error getting or creating model ID:", error);
        throw new Error("Failed to get or create model ID");
    }
}
/**
 * Get provider from model name
 */ function getProviderFromModelName(modelName) {
    if (modelName.startsWith("gpt-")) {
        return "OPENAI";
    } else if (modelName.startsWith("claude-")) {
        return "ANTHROPIC";
    } else if (modelName.startsWith("llama-")) {
        return "META";
    } else if (modelName.startsWith("code-llama-")) {
        return "META";
    } else {
        return "OTHER";
    }
}

;// CONCATENATED MODULE: ./components/ai-lab/AIWorkspace.tsx
/* __next_internal_client_entry_do_not_use__ default auto */ 











function AIWorkspace() {
    const { data: session } = (0,react.useSession)();
    const { toast } = (0,use_toast/* useToast */.p)();
    const [code, setCode] = (0,react_.useState)("");
    const [output, setOutput] = (0,react_.useState)("");
    const [isRunning, setIsRunning] = (0,react_.useState)(false);
    const [selectedModel, setSelectedModel] = (0,react_.useState)("gpt-4o");
    const [sessionTitle, setSessionTitle] = (0,react_.useState)("Untitled Session");
    const [sessionId, setSessionId] = (0,react_.useState)(null);
    const [activeTab, setActiveTab] = (0,react_.useState)("code");
    // Initialize with a simple example
    (0,react_.useEffect)(()=>{
        if (!code) {
            setCode(`// Welcome to the AI Lab
// Try writing some code and use the AI assistant for help

function analyzeText(text) {
  // TODO: Implement sentiment analysis
  return {
    sentiment: "positive",
    keywords: ["example", "analysis"],
    summary: "This is a placeholder for text analysis"
  };
}

// Example usage
const result = analyzeText("I love learning about artificial intelligence!");
console.log(result);
`);
        }
    }, []);
    const runCode = async ()=>{
        setIsRunning(true);
        setOutput("Running code...");
        try {
            // Create a sandbox environment for running the code safely
            const response = await fetch("/api/ai-lab/run-code", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    code
                })
            });
            const data = await response.json();
            if (response.ok) {
                setOutput(data.output);
            } else {
                setOutput(`Error: ${data.error}`);
            }
        } catch (error) {
            setOutput(`Error: ${error.message}`);
        } finally{
            setIsRunning(false);
        }
    };
    const saveSession = async ()=>{
        if (!session?.user) {
            toast({
                title: "Authentication required",
                description: "Please sign in to save your session",
                variant: "destructive"
            });
            return;
        }
        try {
            const result = await saveLabSession({
                id: sessionId || undefined,
                title: sessionTitle,
                code,
                selectedModel
            }, session.user.id);
            setSessionId(result.id);
            toast({
                title: "Session saved",
                description: "Your AI Lab session has been saved successfully"
            });
        } catch (error) {
            toast({
                title: "Error saving session",
                description: error.message,
                variant: "destructive"
            });
        }
    };
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: "container mx-auto p-4 space-y-4",
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "flex justify-between items-center",
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "flex items-center space-x-4",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("h1", {
                                className: "text-2xl font-bold",
                                children: "AI Lab"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                type: "text",
                                value: sessionTitle,
                                onChange: (e)=>setSessionTitle(e.target.value),
                                className: "border rounded px-2 py-1 text-lg font-medium",
                                placeholder: "Session title"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "flex space-x-2",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_button/* Button */.z, {
                                onClick: saveSession,
                                variant: "outline",
                                children: "Save Session"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ModelSelector, {
                                selectedModel: selectedModel,
                                onSelectModel: setSelectedModel
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "grid grid-cols-1 lg:grid-cols-2 gap-4 h-[calc(100vh-200px)]",
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "flex flex-col h-full",
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Tabs, {
                            value: activeTab,
                            onValueChange: setActiveTab,
                            className: "flex-1 flex flex-col",
                            children: [
                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)(TabsList, {
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx(TabsTrigger, {
                                            value: "code",
                                            children: "Code Editor"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(TabsTrigger, {
                                            value: "assistant",
                                            children: "AI Assistant"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(TabsContent, {
                                    value: "code",
                                    className: "flex-1 p-0",
                                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Card, {
                                        className: "h-full flex flex-col",
                                        children: [
                                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)(CardHeader, {
                                                className: "pb-2",
                                                children: [
                                                    /*#__PURE__*/ jsx_runtime_.jsx(CardTitle, {
                                                        children: "Code Editor"
                                                    }),
                                                    /*#__PURE__*/ jsx_runtime_.jsx(CardDescription, {
                                                        children: "Write and experiment with AI-powered code"
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx(CardContent, {
                                                className: "flex-1 p-0",
                                                children: /*#__PURE__*/ jsx_runtime_.jsx(CodeEditor, {
                                                    value: code,
                                                    onChange: setCode
                                                })
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx(CardFooter, {
                                                className: "border-t p-2",
                                                children: /*#__PURE__*/ jsx_runtime_.jsx(ui_button/* Button */.z, {
                                                    onClick: runCode,
                                                    disabled: isRunning,
                                                    className: "ml-auto",
                                                    children: isRunning ? "Running..." : "Run Code"
                                                })
                                            })
                                        ]
                                    })
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(TabsContent, {
                                    value: "assistant",
                                    className: "flex-1 p-0",
                                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Card, {
                                        className: "h-full",
                                        children: [
                                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)(CardHeader, {
                                                children: [
                                                    /*#__PURE__*/ jsx_runtime_.jsx(CardTitle, {
                                                        children: "AI Assistant"
                                                    }),
                                                    /*#__PURE__*/ jsx_runtime_.jsx(CardDescription, {
                                                        children: "Get help with your code from the AI assistant"
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx(CardContent, {
                                                className: "h-[calc(100%-130px)]",
                                                children: /*#__PURE__*/ jsx_runtime_.jsx(AIAssistant, {
                                                    code: code,
                                                    model: selectedModel,
                                                    onSuggestion: (suggestion)=>setCode((prev)=>prev + suggestion)
                                                })
                                            })
                                        ]
                                    })
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "h-full",
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Card, {
                            className: "h-full flex flex-col",
                            children: [
                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)(CardHeader, {
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx(CardTitle, {
                                            children: "Output"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(CardDescription, {
                                            children: "See the results of your code execution"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(CardContent, {
                                    className: "flex-1 p-0",
                                    children: /*#__PURE__*/ jsx_runtime_.jsx(OutputDisplay, {
                                        output: output
                                    })
                                })
                            ]
                        })
                    })
                ]
            })
        ]
    });
}


/***/ }),

/***/ 969:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ AILabPage),
  metadata: () => (/* binding */ metadata)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: ./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js
var module_proxy = __webpack_require__(61363);
;// CONCATENATED MODULE: ./components/ai-lab/AIWorkspace.tsx

const proxy = (0,module_proxy.createProxy)(String.raw`C:\Users\scott\Desktop\EdPsych_Tool\School_Platform\components\ai-lab\AIWorkspace.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const AIWorkspace = (__default__);
;// CONCATENATED MODULE: ./app/ai-lab/page.tsx


const metadata = {
    title: "AI Lab | EdPsychConnect",
    description: "Experiment with AI and build your own educational tools"
};
function AILabPage() {
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: "min-h-screen bg-background",
        children: /*#__PURE__*/ jsx_runtime_.jsx(AIWorkspace, {})
    });
}


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [212,497,173,84], () => (__webpack_exec__(71238)));
module.exports = __webpack_exports__;

})();